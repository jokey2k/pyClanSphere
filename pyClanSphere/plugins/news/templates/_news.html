{% macro render_entry(entry) -%}
  <div class="entry">
    {{ emit_event('before-entry-rendered', entry) }}
    <h3>{{ entry.title|e }}</h3>
    <p class="meta">
      {%- trans author='<a href="%s">%s</a>' %
        (url_for(entry.author), entry.author.display_name|e),
        pub_date=entry.pub_date|datetimeformat|e -%}
          written by {{ author }}, on {{ pub_date }}.
      {%- endtrans %}
      {%- if entry.is_scheduled %}<br>[ {% trans
        time_span=entry.pub_date|timedeltaformat
        %}<strong>Scheduled Post:</strong> This entry will appear in {{
          time_span }}.{% endtrans %}
      ]{% endif -%}
    </p>
    <div class="text">
      {{ entry.text|e }}
    </div>
    {{ emit_event('after-entry-rendered', entry) }}
  </div>
{%- endmacro %}
