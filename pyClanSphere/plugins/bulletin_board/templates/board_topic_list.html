{% extends "layout_content_only.html" %}
{% from "_board.html" import render_post_form, author_link, topic_name_link, lastpost_link %}
{% block title %}{{ _("Board") }}{% endblock %}
{% block contents %}
<div class="entry">
  <table width="100%" style="" class="boardtable">
  <tr>
    <th class="categoryline" colspan="4"><a href="{{ url_for('board/index') }}">{{ _("Board") }}</a> >> <a href="{{ url_for('board/index', _anchor='cat-%i' % forum.category.id ) }}">{{ forum.category.name }}</a> >> <a href="{{ url_for('board/topics', forum_id=forum.id) }}">{{ forum.name }}</th>
  </tr>
  <tr>
    <th>{{ _("Topic / Author") }}</th>
    <th>{{ _("Last post") }}</th>
    <th>{{ _("Posts") }}</th>
  </tr>  
  {% for topic in topics %}
  <tr>
    <td>{%- trans topic=topic_name_link(topic)|safe, author=author_link(topic.author)|safe,
                  date=topic.date|datetimeformat('short')
                  %}{{ topic }}<br><em>by {{ author }} at {{ date }}</em>{% endtrans -%}</td>
                  <td>{%- trans date=lastpost_link(topic.lastpost)|safe, author=author_link(topic.lastpost.author)|safe %}{{ date }}<br>by {{ author }}{% endtrans -%}</td>
    <td class="count">{{ topic.postcount or '0' }}</td>
  </tr>  
  {% else %}
  <tr><td colspan="3"><center>{{ _("No Topics yet") }}</center></td></tr>
  {% endfor %}
  </table>
  {% if pagination.necessary %}
  <div class="pagination">
  {{ _('Pages') }}: {{ pagination.generate() }}
  </div>
  {% endif %}
  {% if form %}
  {{ render_post_form(form) }}  
  {% endif %}
</div>
{% endblock %}